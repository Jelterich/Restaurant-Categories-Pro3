<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stunning Restaurant Categories Charts</title>
    <!-- Include Plotly.js via CDN -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f7f7f7;
            color: #333;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        h2 {
            color: #4CAF50;
        }

        #plot1, #plot2 {
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <h2>Top 10 Cities With Most Restaurant Categories</h2>
    <!-- Div for the bar chart -->
    <div id="plot1" style="width:80%;height:500px;"></div>
    
    <h2>Top Restaurant Categories in Selected City</h2>
    <!-- Div for the pie chart -->
    <div id="plot2" style="width:80%;height:500px;"></div>

    <script>
        // Bar chart: Top 10 Cities With Most Restaurant Categories
        let name = 'Top 10 Cities With Most Restaurant Categories';
        let title = `${name}'s First Plotly Chart`;

        // Data for the top 10 major cities and restaurant categories
        let cities = ["New York", "Los Angeles", "Chicago", "Houston", "Phoenix", 
                      "Philadelphia", "San Antonio", "San Diego", "Dallas", "San Jose"];
        let restaurantCategories = [150, 130, 120, 110, 105, 100, 95, 90, 85, 80]; // Example data

        // Define the trace for the bar chart
        let trace1 = {
            x: cities,
            y: restaurantCategories,
            type: 'bar',
            marker: {
                color: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#C9CBCF', '#FF6384', '#36A2EB', '#FFCE56'],
                line: {
                    width: 2,
                    color: '#333'
                }
            },
            hoverinfo: 'x+y',
            text: restaurantCategories.map(String),
            textposition: 'auto'
        };

        let data1 = [trace1];

        // Layout configuration for bar chart
        let layout1 = {
            title: {
                text: title,
                font: {
                    size: 24,
                    color: '#4CAF50'
                }
            },
            xaxis: {
                title: 'Cities',
                tickangle: -45,
                tickfont: {
                    size: 14,
                    color: '#333'
                }
            },
            yaxis: {
                title: 'Number of Restaurant Categories',
                titlefont: {
                    size: 16,
                    color: '#333'
                },
                tickfont: {
                    size: 14,
                    color: '#333'
                }
            },
            plot_bgcolor: '#f7f7f7',
            paper_bgcolor: '#f7f7f7',
            margin: {
                l: 80, r: 50, t: 80, b: 120
            }
        };

        // Render the bar chart in a div with id 'plot1'
        Plotly.newPlot("plot1", data1, layout1);


        // Pie chart: Top Restaurant Categories in Selected City
        let categoryTitle = 'Top Restaurant Categories in Selected City';
        let title2 = `${categoryTitle} - New York`;  // Update dynamically when the city is selected

        // Data for a selected city's restaurant categories
        let restaurantCategories2 = ["Italian", "Chinese", "Mexican", "Japanese", "Indian", "Fast Food", "Seafood", "American", "French", "Vegan"];
        let categoryCounts = [50, 30, 25, 20, 15, 10, 8, 5, 4, 3]; // Example data for New York

        // Define the trace for the pie chart
        let trace2 = {
            labels: restaurantCategories2,
            values: categoryCounts,
            type: 'pie',
            marker: {
                colors: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#C9CBCF', '#FF6384', '#36A2EB', '#FFCE56']
            },
            textinfo: 'label+percent',
            insidetextorientation: 'radial',
            hoverinfo: 'label+value+percent'
        };

        let data2 = [trace2];

        // Layout configuration for pie chart
        let layout2 = {
            title: {
                text: title2,
                font: {
                    size: 24,
                    color: '#4CAF50'
                }
            },
            showlegend: true,
            legend: {
                x: 1,
                y: 1,
                font: {
                    size: 14
                }
            },
            plot_bgcolor: '#f7f7f7',
            paper_bgcolor: '#f7f7f7',
            margin: {
                l: 50, r: 50, t: 80, b: 50
            }
        };

        // Render the pie chart in a div with id 'plot2'
        Plotly.newPlot("plot2", data2, layout2);
    </script>
</body>
</html>